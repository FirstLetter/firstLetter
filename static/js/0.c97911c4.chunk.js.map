{"version":3,"sources":["components/withAuthLoad.js","components/Dummy.js","components/MyPulls/MyPulls.js"],"names":["AuthComponent","Dummy","DataTile","text","author","onClick","className","CreateFork","user","useLoginContext","useState","show","setShow","useGitFetchAsync","GitConst","username","PRIME_USER","repo","PRIME_REPO","headers","Authorization","authtoken","loading","data","error","setLoading","useEffect","ToRender","href","console","log","MyFiles","component","fromFork","GetAllFiles","filename","handleClick","index","map","item","key","name","split","props","loggedIn"],"mappings":"2HAI6BA,E,oDCFhBC,EAAQ,WACjB,OAAO,sC,OCKLC,EAAW,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QAC7B,OACI,yBAAKA,QAASA,EAASC,UAAU,0GAC7B,yBAAKA,UAAU,iDAAiDH,GAChE,yBAAKG,UAAU,oDAAoDF,KAKzEG,EAAa,WAAO,IAEfC,EAAQC,cAARD,KAFc,EAGGE,oBAAS,GAHZ,mBAGdC,EAHc,KAGRC,EAHQ,OAIsBC,YACvCC,IAASP,WACT,CACIQ,SAAUC,IACVC,KAAMC,KAEV,KACA,CACIC,QAAS,CACLC,cAAc,UAAD,OAAYZ,EAAKa,cAGtC,GAZGC,EAJc,EAIdA,QAASC,EAJK,EAILA,KAAMC,EAJD,EAICA,MAAOC,EAJR,EAIQA,WAe7BC,qBAAU,YACS,IAAZJ,GACa,OAATC,GAA2B,OAAVC,GAChBZ,GAAQ,KAGjB,CAACU,IAEJ,IAKIK,EAcJ,OAbe,IAAZL,EACCK,EAAW,yBAAKrB,UAAU,mDAAf,sBAAoF,kBAAC,IAAD,OAEjF,OAAVkB,EACJG,EAAW,yBAAKrB,UAAU,8CAAf,4BACI,OAATiB,IACNI,EAAW,yBAAKrB,UAAU,8CAAf,kCACwB,kBAAC,IAAD,CAAGA,UAAU,oEAAoEsB,KAAK,SAAtF,iCAIvCC,QAAQC,IAAIH,GAGR,oCACKA,GAEY,IAAThB,EACA,6BACI,yBAAKL,UAAU,gDAAf,oBAGA,4BACIA,UAAU,+EACVD,QAAS,kBA7BzBoB,GAAW,QACXb,GAAQ,KA0BI,WAMJ,OAOVmB,GFjFuB/B,EEiFA,YAAkC,IAcvDgC,EAduB3B,EAA+B,EAA/BA,QAA+B,IAAtB4B,gBAAsB,SAEnDzB,EAAQC,cAARD,KAFmD,EAG3BK,YAC3BC,IAASoB,YACT,CAAEnB,UAAuB,IAAZkB,EAAmBzB,EAAKO,SAAWC,IAAaC,KAAMC,IAAYiB,SAAU3B,EAAKO,UAC9F,KACA,MAJGO,EAHmD,EAGnDA,QAASE,EAH0C,EAG1CA,MAAOD,EAHmC,EAGnCA,KAOjBa,EAAc,SAACC,GACjBhC,EAAQkB,EAAKc,KAYjB,OARe,IAAZf,EACCU,EAAY,kBAAC,IAAD,MACI,OAAVR,EACNQ,GAA0B,IAAbC,EAAoB,kBAAC,EAAD,MAAiB,kBAAC,EAAD,CAAU9B,KAAK,sBAAsBC,OAAO,cAC/E,OAATmB,IACNS,EAAYT,EAAKe,KAAI,SAACC,EAAMF,GAAP,OAAiB,kBAAC,EAAD,CAAUG,IAAKH,EAAOlC,KAAMoC,EAAKE,KAAKC,MAAM,KAAK,GAAItC,OAAQI,EAAKO,SAAUV,QAAS,kBAAM+B,EAAYC,UAG1I,yBAAK/B,UAAU,OAClB,yBAAKA,UAAU,2DAAuE,IAAb2B,EAAoB,UAAY,YACzG,yBAAK3B,UAAU,UACV0B,KFzGF,SAACW,GAGJ,OAAgB,IAFGlC,cAAZmC,SAGI,kBAAC5C,EAAkB2C,GAEnB,kBAAC,EAAD,QEwGJZ","file":"static/js/0.c97911c4.chunk.js","sourcesContent":["import React from 'react'\r\nimport { useLoginContext } from 'context'\r\nimport { Dummy } from './Dummy'\r\n\r\nexport const withAuthLoad = (AuthComponent) => {\r\n\r\n    return (props) => {\r\n        const {loggedIn} = useLoginContext()\r\n\r\n        if(loggedIn === true){\r\n            return <AuthComponent {...props} />\r\n        } else {\r\n            return <Dummy />\r\n        }\r\n    }\r\n}","import React from 'react'\r\n\r\nexport const Dummy = () => {\r\n    return <></>\r\n}","import React, {useState, useEffect} from 'react'\r\nimport { useLoginContext } from 'context'\r\nimport { useGitFetchAsync } from 'components/useFetchAsync'\r\nimport { GitConst, PRIME_USER, PRIME_REPO } from 'apiroutes'\r\nimport { A } from 'hookrouter'\r\nimport { withAuthLoad } from 'components/withAuthLoad'\r\nimport { LoadingComponent } from 'components/utils/Loader'\r\n\r\nconst DataTile = ({text, author, onClick}) => {\r\n    return (\r\n        <div onClick={onClick} className=\"shadow-lg col-12 col-md-3 col-lg-2 border-sm d-inline-block data-tile app-bg-t-dark text-white p-2 m-2\">\r\n            <div className=\"data-tile-title font-size-24 font-roboto-mono\">{text}</div>\r\n            <div className=\"font-size-16 font-roboto-mono app-text-bg-accent\">{author}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CreateFork = () => {\r\n\r\n    const {user} = useLoginContext()\r\n    const [show, setShow] = useState(true) \r\n    const {loading, data, error, setLoading} = useGitFetchAsync(\r\n        GitConst.CreateFork,\r\n        {\r\n            username: PRIME_USER,\r\n            repo: PRIME_REPO\r\n        },\r\n        null,\r\n        {\r\n            headers: {\r\n                Authorization: `bearer ${user.authtoken}`\r\n            }\r\n        },\r\n        false\r\n    )\r\n\r\n    useEffect(() => {\r\n        if(loading === false){\r\n            if(data === null && error !== null) {\r\n                setShow(true)\r\n            }\r\n        } \r\n    }, [loading])\r\n\r\n    const handleClickFork = () => {\r\n        setLoading(true)\r\n        setShow(false)\r\n    }\r\n\r\n    let ToRender\r\n    if(loading === true){\r\n        ToRender = <div className=\"font-space-mono font-size-20 app-text-bg-accent\">Creating your fork <LoadingComponent /></div>\r\n    } \r\n    else if(error !== null){\r\n        ToRender = <div className=\"font-space-mono font-size-20 app-text-main\">Error Creating your Fork</div>\r\n    } else if(data !== null) {\r\n        ToRender = <div className=\"font-space-mono font-size-20 app-text-main\">\r\n            Successfully Created Your Fork <A className=\"text-decoration-none font-space-mono font-size-20 app-text-accent\" href=\"/home\">Start Making pull requests!</A>\r\n        </div>\r\n    }\r\n\r\n    console.log(ToRender)\r\n\r\n    return (\r\n        <>\r\n            {ToRender}\r\n            {\r\n                show === true ?\r\n                <div>\r\n                    <div className=\"font-space-mono font-size-18 app-text-accent\">\r\n                    Create Your Fork\r\n                    </div>\r\n                    <button \r\n                        className=\"m-2 border-0 px-3 py-2 font-space-mono app-bg-t-main font-size-18 text-white\" \r\n                        onClick={() => handleClickFork()}>\r\n                            Create\r\n                    </button>\r\n                </div>:\r\n                null\r\n            }\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nconst MyFiles = withAuthLoad(({onClick, fromFork = false}) => {\r\n    \r\n    const {user} = useLoginContext()\r\n    const {loading, error, data} = useGitFetchAsync(\r\n        GitConst.GetAllFiles, \r\n        { username: (fromFork=== true ? user.username : PRIME_USER), repo: PRIME_REPO, filename: user.username },\r\n        null,\r\n        null\r\n    )\r\n\r\n    const handleClick = (index) => {\r\n        onClick(data[index])\r\n    }\r\n\r\n    let component\r\n    if(loading === true) {\r\n        component = <LoadingComponent  />\r\n    } else if(error !== null) {\r\n        component = (fromFork === true ? <CreateFork /> : <DataTile text=\"No Local repo found\" author=\"fork here\" />)\r\n    } else if(data !== null) {\r\n        component = data.map((item, index) => <DataTile key={index} text={item.name.split(\".\")[0]} author={user.username} onClick={() => handleClick(index)}/>)\r\n    }\r\n\r\n    return <div className=\"row\">\r\n        <div className=\"col-12 font-size-18 app-text-bg-accent font-space-mono\">{fromFork === true ? \"My Fork\" : \"My Pulls\"}</div>\r\n        <div className=\"col-12\">\r\n            {component}\r\n        </div>\r\n    </div>\r\n})\r\n\r\nexport default MyFiles"],"sourceRoot":""}